<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <title>Профиль - Qualimeter</title>
    <link rel="stylesheet" href="style1.css" />
  </head>
  <body>
    <script>
      // Проверяем, вошел ли пользователь
      const currentUser = localStorage.getItem('currentUser');
      if (!currentUser) {
        alert('Пожалуйста, войдите в систему');
        window.location.href = 'enter.html';
      }
    </script>
    <div class="prof1">
      <div class="nav">
        <div class="logo">
          <h1 class="h1">Qualimeter</h1>
        </div>
        <div class="part2">
          <div class="a1">
            <a href="#">Тесты</a>
          </div>
          <div class="a2">
            <a href="#">План развития</a>
          </div>
          <div class="a3">
            <a href="#">Повышение</a>
          </div>
          <div class="a4">
            <a href="#">Компания</a>
          </div>
        </div>
        <div class="part3" id="userMenu">
          <img
            src="img/imgprof/user-account_9327873 1 (1).svg"
            alt="user"
            class="user-icon"
          />
          <p>Никита Н.</p>
          <img src="img/imgprof/Vector 1.svg" alt="arrow" class="arrow-icon" />
        </div>
        <div class="dropdown-menu" id="dropdownMenu">
          <div class="menu-section">
            <div class="menu-item-with-icon">
              <img src="img/imgprof/person.svg" alt="" class="menu-icon" />
              <a href="#" class="menu-link main-link">Профиль</a>
            </div>
            <div class="menu-item-with-icon">
              <img src="img/imgprof/settings.svg" alt="" class="menu-icon" />
              <a href="#" class="menu-link">Настройки</a>
            </div>
            <div class="menu-item-with-icon">
              <img
                src="img/imgprof/notifications_unread.svg"
                alt=""
                class="menu-icon"
              />
              <a href="#" class="menu-link">Уведомления</a>
            </div>
            <div class="menu-item-with-icon logout">
              <img src="img/imgprof/logout.svg" alt="" class="menu-icon" />
              <a href="#" class="menu-link">Выйти</a>
            </div>
          </div>
        </div>
      </div>
      <img
        src="img/imgprof/blending 1754474870 (1).svg"
        alt=""
        class="imgreg"
      />
      <img
        src="img/imgprof/blending 1762691066228 (1).svg"
        alt=""
        class="imgreg1"
      />
      <img
        src="img/imgprof/blending 1754474869 (1).svg"
        alt=""
        class="imgreg2"
      />
      <div class="profile">
        <div class="avatar">
          <img src="img/imgprof/user-account_9327873 1.svg" alt="avatar" />
          <h2>Никита</h2>
          <h2>Никитин</h2>
          <div class="grade">
            <p>Рейтинг 4.3</p>
            <img src="img/imgprof/Group 39.svg" alt="" />
          </div>
          <p>User id: 656789093</p>
        </div>
        <div class="inf">
          <div class="me">
            <div>
              <h2>Обо мне</h2>
            </div>
            <p>
              Люблю сосиски с кепчуком, макарошки с сыром и программировать на
              ассемблере.
            </p>
          </div>
          <div class="quali">
            <h2>Компетенции</h2>
            <div class="comp1">
              <p>Senior Python разработчик</p>
            </div>
            <div class="comp2">
              <p>Работа с ООП ( Продвинутый )</p>
            </div>
            <div class="comp3">
              <p>Алгоритмы и структуры данных ( Средний )</p>
            </div>
            <div class="comp4">
              <p>Математическая статистика ( Базовый )</p>
            </div>

            <div class="last">
              <p>Ещё</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const userMenu = document.getElementById("userMenu");
        const dropdownMenu = document.getElementById("dropdownMenu");

        // Функция для переключения меню
        function toggleMenu(e) {
          e.preventDefault();
          e.stopPropagation();
          dropdownMenu.classList.toggle("active");
          userMenu.classList.toggle("active");
        }

        // Обработчики для десктопов и мобильных
        userMenu.addEventListener("click", toggleMenu);
        userMenu.addEventListener("touchstart", toggleMenu); // Для мобильных

        // Закрытие меню при клике вне его
        function closeMenu() {
          dropdownMenu.classList.remove("active");
          userMenu.classList.remove("active");
        }

        document.addEventListener("click", closeMenu);
        document.addEventListener("touchstart", closeMenu); // Для мобильных

        // Предотвращение закрытия при клике внутри меню
        dropdownMenu.addEventListener("click", function (e) {
          e.stopPropagation();
        });
        dropdownMenu.addEventListener("touchstart", function (e) {
          e.stopPropagation();
        });
      });
    </script>
  </body>
</html>
